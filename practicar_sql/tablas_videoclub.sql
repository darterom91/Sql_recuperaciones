DROP TABLE TIENE;
DROP TABLE SOCIO;
DROP TABLE PELICULA;

CREATE TABLE SOCIO (
 COD_SOC    NUMBER(2) NOT NULL,
 NOMBRE     VARCHAR2(20),
 APELLIDOS	VARCHAR2(20),
 DIRECCION	VARCHAR2(20),
 TELEFONO	VARCHAR2(10),
 POBLACION	VARCHAR2(30),
 CP		VARCHAR2(5), 
 PROVINCIA	VARCHAR2(20),
 PAIS		VARCHAR2(10),
 EDAD		NUMBER,
 FECHAALTA	DATE,
 CUOTA	NUMBER,
 CONSTRAINT SOCIO_CODSOC_PK PRIMARY KEY (COD_SOC));



INSERT INTO SOCIO VALUES (1,'MARIA','GOMEZ GOMEZ','BONAVISTA s/n','936877899','CORNELLA','08940','BARCELONA','ESPAÑA',20,to_date('17-11-81', 'DD-MM-YY'),2000);
INSERT INTO SOCIO VALUES (2,'TONI','PEREZ RUIZ','BONAVISTA s/n','933453455','CORNELLA','08940','BARCELONA','ESPAÑA',22,to_date('17-11-81', 'DD-MM-YY'),3000);
INSERT INTO SOCIO VALUES (3,'MIGUEL','LOPEZ GOMEZ','BONAVISTA s/n','936437899','CORNELLA','08940','BARCELONA','ESPAÑA',21,to_date('17-11-81', 'DD-MM-YY'),1000);
INSERT INTO SOCIO VALUES (4,'PEPE','SORIANO SORIANO','REP. ARGENTINA s/n','936872899','CORNELLA','08940','BARCELONA','ESPAÑA',21,to_date('17-11-99', 'DD-MM-YY'),4000);
INSERT INTO SOCIO VALUES (5,'SONIA','GARRIDO GOMEZ','BONAVISTA s/n','936875399','CORNELLA','08940','BARCELONA','ESPAÑA',22,to_date('17-10-99', 'DD-MM-YY'),6000);
INSERT INTO SOCIO VALUES (6,'MARCOS','RUIZ SERRANO','BONAVISTA s/n','935437899','CORNELLA','08940','BARCELONA','ESPAÑA',23,to_date('17-11-81', 'DD-MM-YY'),7000);
INSERT INTO SOCIO VALUES (7,'JORGE','MILLAN MILLAN','BONAVISTA s/n','935577899','CORNELLA','08940','BARCELONA','ESPAÑA',24,to_date('17-11-81', 'DD-MM-YY'),3000);
INSERT INTO SOCIO VALUES (8,'JESUS','RODRIGUEZ RODRIGUEZ','BONAVISTA s/n','935577899','ESPLUGUES','08940','BARCELONA','ESPAÑA',26,to_date('13-10-00', 'DD-MM-YY'),4000);
INSERT INTO SOCIO VALUES (9,'MARIA','LUZ AGUA','AVDA. EL SOL s/n','935477899','VALLECAS','08940','MADRID','ESPAÑA',18,to_date('09-01-00', 'DD-MM-YY'),6000);

CREATE TABLE PELICULA (
 COD_PEL    NUMBER(4) NOT NULL,
 TITULO    	VARCHAR2(20),
 DURACION	NUMBER,
 DIRECTOR	VARCHAR2(20),
 CONSTRAINT PELICULA_CODPEL_PK PRIMARY KEY (COD_PEL));

INSERT INTO PELICULA VALUES (0001,'LA SIRENITA',100,'WARNER BROS');
INSERT INTO PELICULA VALUES (0002,'EL REY LEON',140,'WARNER BROS');
INSERT INTO PELICULA (cod_pel, titulo, duracion) VALUES (0003,'THE MATRIX',200);

CREATE TABLE TIENE(
 COD_SOC    NUMBER(2) NOT NULL REFERENCES SOCIO(COD_SOC),
 COD_PEL    NUMBER(4) NOT NULL REFERENCES PELICULA(COD_PEL),
 FECHA_ADQ  DATE,
 FECHA_DEV  DATE,
 CONSTRAINT TIENE_CODIGOS_PK PRIMARY KEY (COD_SOC,COD_PEL));

INSERT INTO TIENE VALUES (1,0001,to_date('18-02-99', 'DD-MM-YY'),to_date('18-03-99', 'DD-MM-YY'));
INSERT INTO TIENE VALUES (1,0002,to_date('17-03-99', 'DD-MM-YY'),to_date('17-04-99', 'DD-MM-YY'));
INSERT INTO TIENE (cod_soc,cod_pel,fecha_adq) VALUES (2,0001,to_date('11-04-00', 'DD-MM-YY'));
INSERT INTO TIENE (cod_soc,cod_pel) VALUES (3,0002)
/
